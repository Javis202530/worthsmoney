<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | WorthMoney Investment</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- ===== TOP BAR ===== -->
<header class="topbar">
  <div class="brand">WorthMoney <span>Investment</span></div>
  <nav class="dash-nav">
    <a href="dashboard.html">Dashboard</a>
    <a href="deposit.html">Deposit</a>
    <a href="transactions.html">Transactions</a>
    <a href="index.html">Logout</a>
  </nav>
</header>

<!-- ===== DASHBOARD ===== -->
<section class="dashboard">
  <h2>Welcome, Investor</h2>
  <p class="muted">Account overview and daily returns</p>

  <!-- ===== STATS ===== -->
  <div class="stats-grid">
    <div class="stat-card">
  <h2 id="balanceAmount">$0.00</h2>
  <p>Account Balance</p>
</div>

    <div class="stat-card">
      <h4>Active Investment</h4>
      <p class="amount">$0.00</p>
    </div>
    <div class="stat-card">
      <h4>Daily ROI</h4>
      <p class="amount">$0.00</p>
      <script>
  const roiInfo = document.getElementById('roiInfo');
  const investment = JSON.parse(localStorage.getItem('activeInvestment'));

  if (investment) {
    roiInfo.textContent = `${(investment.rate * 100).toFixed(2)}% Daily`;
  }
</script>

    </div>
    <div class="stat-card">
      <h4>Total Earnings</h4>
      <p class="amount">$0.00</p>
    </div>
  </div>

  <!-- ===== ACTIONS ===== -->
  <div class="dashboard-actions">
    <button onclick="location.href='wallet.html'">Deposit Funds</button>
<button class="secondary" onclick="location.href='wallet.html'">Withdraw Funds</button>
ctions.html'">Transactions</button>
  </div>

  <!-- ===== RECENT ACTIVITY ===== -->
  <div class="recent-activity">
    <h3>Recent Activity</h3>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>—</td>
          <td>No activity yet</td>
          <td>—</td>
          <td>—</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- ===== FOOTER ===== -->
<footer class="footer-pro">
  © 2025 WorthMoney Investment
</footer>
<script>
  // Load confirmed balance only
  const balanceEl = document.getElementById('balanceAmount');
  const storedBalance = localStorage.getItem('balance') || '0.00';
  balanceEl.textContent = `$${storedBalance}`;
</script>

  <script>
  function applyDailyROI() {
    const investment = JSON.parse(localStorage.getItem('activeInvestment'));
    if (!investment) return;

    const lastApplied = localStorage.getItem('lastROI');
    const today = new Date().toDateString();

    if (lastApplied === today) return; // already applied today

    let balance = parseFloat(localStorage.getItem('balance')) || 0;
    const profit = investment.amount * investment.rate;

    balance += profit;

    localStorage.setItem('balance', balance.toFixed(2));
    localStorage.setItem('lastROI', today);
  }

  applyDailyROI();
</script>
<div class="stat-card">
  <h3>Daily ROI</h3>
  <p id="roiInfo">—</p>
</div>

</body>
</html>





