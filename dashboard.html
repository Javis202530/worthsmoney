<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | WorthMoney Investment</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- ===== TOP BAR ===== -->
<header class="topbar">
  <div class="brand">WorthMoney <span>Investment</span></div>
  <nav class="dash-nav">
    <a href="dashboard.html">Dashboard</a>
    <a href="deposit.html">Deposit</a>
    <a href="transactions.html">Transactions</a>
    <a href="index.html">Logout</a>
  </nav>
</header>

<!-- ===== DASHBOARD ===== -->
<section class="dashboard">
  <h2>Welcome, Investor</h2>
  <p class="muted">Account overview and daily returns</p>

  <!-- ===== STATS ===== -->
  <div class="stats-grid">
    <div class="stat-card">
  <h2 id="balanceAmount">$0.00</h2>
  <p>Account Balance</p>
</div>

    <div class="stat-card">
      <h4>Active Investment</h4>
      <p class="amount">$0.00</p>
    </div>
    <div class="stat-card">
      <h4>Daily ROI</h4>
      <p class="amount">$0.00</p>
      <script>
  const roiInfo = document.getElementById('roiInfo');
  const investment = JSON.parse(localStorage.getItem('activeInvestment'));

  if (investment) {
    roiInfo.textContent = `${(investment.rate * 100).toFixed(2)}% Daily`;
  }
</script>

    </div>
    <div class="stat-card">
      <h4>Total Earnings</h4>
      <p class="amount">$0.00</p>
    </div>
  </div>
<h3>Daily ROI Earnings</h3>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Rate</th>
      <th>Profit</th>
    </tr>
  </thead>
  <tbody id="roiTable"></tbody>
</table>

  <!-- ===== ACTIONS ===== -->
  <div class="dashboard-actions">
    <button onclick="location.href='wallet.html'">Deposit Funds</button>
<button class="secondary" onclick="location.href='wallet.html'">Withdraw Funds</button>
ctions.html'">Transactions</button>
  </div>

  <!-- ===== RECENT ACTIVITY ===== -->
  <div class="recent-activity">
    <h3>Recent Activity</h3>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>—</td>
          <td>No activity yet</td>
          <td>—</td>
          <td>—</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- ===== FOOTER ===== -->
<footer class="footer-pro">
  © 2025 WorthMoney Investment
</footer>
<script>
  // Load confirmed balance only
  const balanceEl = document.getElementById('balanceAmount');
  const storedBalance = localStorage.getItem('balance') || '0.00';
  balanceEl.textContent = `$${storedBalance}`;
</script>

  <script>
  function applyDailyROI() {
    const investment = JSON.parse(localStorage.getItem('activeInvestment'));
    if (!investment) return;

    const lastApplied = localStorage.getItem('lastROI');
    const today = new Date().toDateString();

    if (lastApplied === today) return; // already applied today

    let balance = parseFloat(localStorage.getItem('balance')) || 0;
    const profit = investment.amount * investment.rate;

    balance += profit;

    localStorage.setItem('balance', balance.toFixed(2));
    localStorage.setItem('lastROI', today);
  }

  applyDailyROI();
</script>
<div class="stat-card">
  <h3>Daily ROI</h3>
  <p id="roiInfo">—</p>
</div>
<script>
  const roiInfo = document.getElementById('roiInfo');
  const investment = JSON.parse(localStorage.getItem('activeInvestment'));

  if (investment && roiInfo) {
    roiInfo.textContent = `${(investment.rate * 100).toFixed(2)}% Daily`;
  }
</script>
<script>
  function getRoiRate(balance) {
    if (balance >= 10 && balance <= 49) return 0.0125;
    if (balance >= 50 && balance <= 150) return 0.025;
    if (balance >= 151 && balance <= 500) return 0.03;
    if (balance >= 501 && balance <= 1000) return 0.05;
    return 0;
  }

  function applyDailyROI() {
    let balance = parseFloat(localStorage.getItem('balance')) || 0;
    const today = new Date().toLocaleDateString();
    const lastDate = localStorage.getItem('lastRoiDate');

    if (today === lastDate) return; // already applied today

    const rate = getRoiRate(balance);
    if (rate === 0) return;

    const profit = balance * rate;
    balance += profit;

    localStorage.setItem('balance', balance.toFixed(2));
    localStorage.setItem('lastRoiDate', today);

    let roiHistory = JSON.parse(localStorage.getItem('roiHistory')) || [];
    roiHistory.unshift({
      date: today,
      profit: profit.toFixed(2),
      rate: (rate * 100).toFixed(2) + '%'
    });

    localStorage.setItem('roiHistory', JSON.stringify(roiHistory));
  }

  applyDailyROI();
</script>
<script>
  function renderRoiHistory() {
    const roiTable = document.getElementById('roiTable');
    const history = JSON.parse(localStorage.getItem('roiHistory')) || [];

    roiTable.innerHTML = '';

    if (history.length === 0) {
      roiTable.innerHTML = `<tr><td colspan="3">No earnings yet</td></tr>`;
      return;
    }

    history.forEach(row => {
      roiTable.innerHTML += `
        <tr>
          <td>${row.date}</td>
          <td>${row.rate}</td>
          <td>$${row.profit}</td>
        </tr>
      `;
    });
  }

  renderRoiHistory();
</script>

</body>
</html>








